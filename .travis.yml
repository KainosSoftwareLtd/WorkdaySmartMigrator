language: go
services:
- docker
env:
  global:
  - secure: Wvmf5FAySAGXuugkWg/lNQuPfTDA7PYlZB8Izt+bhaVZDp3Re0xz8rhomUw/ZXP/2r81HHPTvDU+eNHxpneyBeHvSXvvhzMVyU+GFLeXdHA0rjvKittkkKq5XuUkj5oaSYJIh0YRn2UdfMaQ/R+y8ZgL2uP41slG6jWpfuMeFe+oqvJCgJ7qovQ7xUataDQdGCyWCpsTlBdpGz+YFUHNrcMK3ppvm4WhzDeMGXHPuTPcWZ+edO8QVWJkxVXamuWgq95tFB3EAXx5tfcg4CS5cC/l/K2tMH7MTsXvWOCRSU+f79cSNlrztP1Mhc/TPBZe87ubmkLOQGRK//ZBqbmSXjsyjv4qkq3z223Dmg+MRkt6ip01zsSVE6vmEvtVHGxtj8VKfWbwWusAXuLa1gtzXa/vVgisF++aj1ZEhApH5mu95gMqy9tOY/mX4Pm4iqalLujvlzVHKDDCmZsyF2O8mZCL2cDH7xlQTLeq9eyRPXNcm13WDDAcOhgVSpWNVObggUMZ67YDGV0yPQKGQBOCCqV3jCKgii/4m7n1H2mn1b8VpYOdK3ncA3U3bcHDPy3Nh44EmdJnj7QiUZtN+RyQGCz83h3X2owGjNG3qvGxrBPy87DbQU+FTN88zB4DdgO/TOYEzg3Wbz24D3thZUDR8rWvu9t9/PvH+CroTIpW4Iw=
  - secure: d5+t1ysBsHPGKvrbxsN4M+4ns4Q3YHgAk3gapaPNxlX3pDKLgZ1Kd/XBnQ3dMSCP7FWejgmeLDxloGQMeieq6exEM9kmf8Ui/oFB97j2+ODXPv6+X69+aDDGMT94J77v5DwdJzyULI4vn3ZF2V6fM5/tlle4hf4uwCBNh30Svar7ZXsp/aZL7wpZzUG+efLFJJZ4oSD2NteWR9IeZbNqQtV0fUTHLk3g4Suze6Yt2OmZiFH4pn8Ihftjyr84nke65aPws8XKzoaVmghoZXmKNPNyiH3Dyu6uyGa2OhMspj0zjXHP+sMlgMrp5cvAGchRBz9NPL18VHtgID/hEPLfwb6ZZ6HypgXu5+4/O/J2vGHTFV0q2aluNBJi+sTzklYkHoCiBXtjdZxI/+mwK1VIeMejrhSjNtzdkryEbOQM/CoBcDacQIw4gUOloCG4AcFNXzQZifHZckIgc4JChYmNHhpEu3U1Zil8H7QDQ7MGqJG+HWuK/s/leoJx112jHLmCgPsq9hmMozDdQi8rVSS8Eo6bg7NTOuE9LK/uoweF31NJYITYV3vxmqluwT7+yn7V9avXRFTV1qTcavsjAYkMS3PlLX4f+w1HtZUIOjtdABcK5mg1JjZ92xHmNFudu8b2n6j3A3nOYuA0NsX5BlCuIG84MozNsMleOl6svbRKW+4=
  - secure: MifRSHBk+EwYU7HsO2pHCw/D0972P0qjm8m9GwxNS5g9yu6EAVAzgXjUdcpzskQpXIL1Dng6Rd7g8rY6bU8vTiFn8AGQZtw9ky5b03NV9JCZgEQeDpQaHUxlHmU1d0vWzR4epOpWtrT96x2vtTfkf4deU1YcJL4ghmSSoqZ//0APVgy0wt31W61o2XezIPVutkYCOuBtxEuhYtF8zj3EW2tAD3nrDFcOGdGtnqErf0rMKtOC6NJFy0DaH5ehvWtmNyoUySz/50s8Ljnho3Cy7dGX551nzBiw9qgMJdw1kR2j7Erb/bE9phcaSErYAWajfyVBg1B8VnsW6rUKyM6aH+cxn4gqSbAdP0WYv/SNQWYpVqu5B5It0ESzLh8fz4I7mGb2hyCXrQ7BJJGBNAtLD1kcqqFEnCgSgPyzJDzktHF4zrGytcEuF1pvifKUtoERsTKjPBUNZMvqZ1b2rDos1c3FW7n74BrCRChqJRmH/H+B/9ZyZoXvMixBoonMjzi6iCqKcuuhcgvhCyMtsD8QkLM73ZJ4ff2OwJpImw0Ul3rP0T+iUeKKMRLOmOEeEn9qj02eTemzH8BIOfvvegNGQHrDziHxtxOB8GAr1uGYbtYFSCIkCmZ8+VtpxEuJxE+/OHxP06Gz3ehnLdnQ5WKiSTkUoQ8ZBwl67xzKpfy4tqY=
  - secure: HBbN7xcIOSv1gHLinQsim9V1je7CkIOnYMZMvFhTAZSyQfavZ5o4+Mo27rbx1hjrPHJhoGNd3Zd225Nn8YkXhNGkI/CitCT3rz+Na1hQn7dioCkp9O/087pOAOsTGSeMmvTkBGxgt0j0J/0EoF/Frkx1N+YXxPgP+MfbwnDoDbIB59jNPeG384ODaF5B+bmvbOgVsZxd9RQ37gTdLgPfI4Eso9nMYwAR9iqOcd7PQhM+Z3Io8BiyhVwOdKpcEj6U3s/GkOF6sbMcsIh11aJ56agsSV7s8QDpi5vVNnWntd15+dW0hUQWFt78lz//DPSaL3sA2iTaaLyqpXCaa1eIoRrgg7qm6StL2x7DrnOZHTukxFGg3VNiWts2cjlkQVPcN4JaWw2xMtJXgJZtM8cYVoiVEN3nODHdYtNVAR8Qfx4t8NsUs7cCWno6QK2rkzyj2DctfwJB/sbYv5kIJWdwFmq1NPTVeAYVzce0X0vd3hp/hJ+dOaZLB1NWDrQAMY7iJhkT6GHE8IiUfzObeLKR6rA/U4VvWIKVKraHmLC68lSr//0qt3VAvXAYzrMYCwTusE4MYmS12AbJiRJL9pbCDuFmRtCSqu5dRyvIhX576TJmb9k2l9CtOHhSeDswcQ1b5rNpGluU4rIhtNFs3fE2hayp5tDPd2z/hwblDeevl8g=
go:
- '1.14'
- '1.15'
- '1.16'
before_script:
- echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_USERNAME" --password-stdin
- docker-compose -f test/docker-compose.yaml up -d
- sleep 60
script:
- "./coverage.sh"
after_success:
- bash <(curl -s https://codecov.io/bash)
